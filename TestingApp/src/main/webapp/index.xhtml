<?xml version='1.0' encoding='UTF-8' ?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
>


<h:head>
  <title>Require 4 Test</title>
  <h:outputStylesheet library="webjars" name="primeflex/3.2.0/primeflex.css" />
  <h:outputStylesheet library="webjars" name="primeflex/3.2.0/themes/vela-blue.css" />

</h:head>

<h:body styleClass="m-0 p-0" >
  <p:outputPanel rendered="#{userController.currentUser == null}">
    <h:outputText styleClass="text-red-500 font-bold text-4xl" value="Sie verfügen nicht über die nötigen Berechtigungen für diesen Teil der Anwendung!"></h:outputText>
   <h:form>
     <p:commandButton value="Zum Login" action="login?faces-redirect=true"/>
   </h:form>

  </p:outputPanel>
  <p:outputPanel rendered="#{not empty userController.currentUser}">
  <!---Header Start-->
  <div class="surface-card surface-border  shadow-3 m-0 p-0  flex flex-row justify-content-between align-items-center">
    <h:outputText styleClass="text-6xl text-white text-center py-2 px-2" value="#{testSystem.name}"> </h:outputText>
    <div class="max-h-4rem">
      <h:outputText styleClass="text-white text-xl" value="#{userController.greetString}"/>
      <p:commandButton styleClass="ui-button-flat p-2 m-1  " value="Logout" action="#{userController.logout}"/>
    </div>
  </div>
  <!--App & Sidebar-->
  <div class="flex surface-card h-full ">
    <h:form  >
      <div class="card">
        <p:menu styleClass="w-12rem border-0">
          <p:submenu>
            <p:menuitem value="Startseite"  outcome="index"
                        icon="pi pi-home"/>
          </p:submenu>
          <p:submenu label="Testing">
            <p:menuitem value="Anforderungen"  outcome="reqsView"
                        icon="pi pi-inbox"/>
            <p:menuitem value="Testläufe"  outcome="testRunView"
                        icon="pi pi-play"/>
            <p:menuitem value="Testfälle"  outcome="testCasesView"
                        icon="pi pi-book"/>
          </p:submenu>
          <p:submenu label="Sonstiges">
            <p:menuitem value="Ausloggen"
                        icon="pi pi-sign-out" action="#{userController.logout}"/>
          </p:submenu>
        </p:menu>
      </div>
    </h:form>
    <div class="flex flex-column  p-4 align-items-center surface-ground w-full">
      <h:form id="statistics">
        <div class="flex flex-column justify-content-center">
          <h:outputText styleClass="text-3xlxl text-white" value="STARTSEITE"/>
          <div class="text-white text-xl flex flex-column justify-content-center p-8">
            <h:outputText value="Eingelogter User: #{indexController.userController.currentUser.username} " /> <br/>
            <h:outputText value="Anzahl der Anforderungen: #{testSystem.reqList.size()} " /> <br/>
            <h:outputText value="Anzahl der Testläufe: #{testSystem.testRunList.size()} " /> <br/>
            <h:outputText value="Anzahl der Testfälle: #{testSystem.testCaseList.size()} " />
            <h:messages/>
          </div>
        </div>
      </h:form>
    </div>
    <!--Main Application "Window"-->

  </div>
  </p:outputPanel>
</h:body>


</html>

